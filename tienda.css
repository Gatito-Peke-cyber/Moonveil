/* =========================================================
   Moonveil Portal — Tienda Premium (CSS)
   Temática: Ámbar / Dorado
   =========================================================

   ★ CÓMO PONER FONDO A CADA SECCIÓN:
   En tienda.html cada <section class="shop-sec"> acepta:
     style="--sec-bg: url('ruta/imagen.jpg')"
   El CSS usa esa variable para el overlay de fondo.
   Opacidad del fondo: cambia --sec-bg-opacity (default 0.12)

   ========================================================= */

/* ─────────────────────────────────────
   Variables globales
───────────────────────────────────── */
:root {
  /* Fondo */
  --bg:   #0d0b08;
  --bg2:  #111009;
  --card: #16130d;
  --elev: #1c1810;

  /* Texto */
  --text:  #f2ead8;
  --muted: #a89878;
  --dim:   #5c4e35;

  /* Tema ámbar */
  --a:    #f5a623;
  --a2:   #c97d0f;
  --a3:   #7a4c08;
  --gold: #fbbf24;
  --gold2:#f59e0b;

  /* Calidades */
  --legendary: #f59e0b;
  --epic:      #a855f7;
  --rare:      #38bdf8;
  --common:    #9ca3af;

  /* Estados */
  --danger:  #ef4444;
  --info:    #60a5fa;
  --green:   #30d158;

  /* Layout */
  --r:    16px;
  --r-sm: 10px;
  --spd:  250ms;
  --bez:  cubic-bezier(.22,.61,.36,1);
  --nav-h: 66px;
  --sh:   0 8px 28px rgba(0,0,0,.5);
  --sh-a: 0 0 28px rgba(245,166,35,.18);

  /* Fondo de sección (sobreescrito inline) */
  --sec-bg: none;
  --sec-bg-opacity: 0.12;
}

/* ─────────────────────────────────────
   Reset
───────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0 }
html, body { height: 100%; overflow-x: hidden }
html { scroll-behavior: smooth }
body {
  font-family: "Outfit", system-ui, sans-serif;
  line-height: 1.6;
  color: var(--text);
  background: var(--bg);
  cursor: url("img/diamond.cur") 0 0, auto;
}
img, svg, canvas { display: block; max-width: 100% }
button, input { font: inherit; color: inherit; border: none; background: none; cursor: pointer }
a { color: var(--a); text-decoration: none; transition: color var(--spd) }
a:hover { color: #fcd472; text-decoration: underline }
:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(245,166,35,.4) }

/* ─────────────────────────────────────
   Fondo global
───────────────────────────────────── */
.bg { position: fixed; inset: 0; z-index: -2; pointer-events: none; overflow: hidden }
#bgParticles { position: absolute; inset: 0 }
.bg-parallax { position: absolute; inset: 0 }
.layer { position: absolute; inset: 0; will-change: transform }
.layer.sky { background: radial-gradient(ellipse 80% 55% at 30% 0%, rgba(245,166,35,.08) 0%, transparent 60%), #0d0b08 }
.layer.far { background: radial-gradient(ellipse 50% 30% at 75% 80%, rgba(196,125,15,.07) 0%, transparent 55%) }
.layer.mid { background: radial-gradient(ellipse 60% 25% at 10% 65%, rgba(245,166,35,.05) 0%, transparent 55%) }
.layer.near{ background: radial-gradient(ellipse 70% 20% at 50% 100%, rgba(251,191,36,.06) 0%, transparent 60%) }

/* ─────────────────────────────────────
   NAVBAR + HUD
───────────────────────────────────── */
.top-hud { position: sticky; top: 0; z-index: 30; backdrop-filter: saturate(1.4) blur(7px) }

.navbar {
  height: var(--nav-h);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 clamp(12px, 3vw, 24px);
  background: linear-gradient(180deg, rgba(13,11,8,.88), rgba(13,11,8,.45) 70%, transparent);
  border-bottom: 1px solid rgba(245,166,35,.13);
  box-shadow: 0 2px 20px rgba(0,0,0,.4);
}

.brand { display: flex; align-items: center; gap: 12px; font-weight: 700; color: var(--text); transition: transform var(--spd) }
.brand:hover { transform: translateY(-2px); text-decoration: none }
.brand__title { font-size: 1.05rem; letter-spacing: .3px }

/* Cube – ámbar */
.brand .cube, .footer-logo .cube {
  width: 22px; height: 22px; flex-shrink: 0;
  background: linear-gradient(135deg, #fcd472, #c97d0f);
  border-radius: 4px;
  box-shadow: 0 2px 0 #7a4c08 inset, 0 0 0 2px #5a380a, 0 3px 12px rgba(245,166,35,.35);
  animation: cubeFloat 3s ease-in-out infinite;
}
@keyframes cubeFloat { 0%, 100% { transform: translateY(0) } 50% { transform: translateY(-4px) } }

.nav-links { display: flex; gap: 6px; align-items: center; margin: 0; padding: 0; list-style: none; flex-wrap: wrap }
.nav-links a {
  display: inline-flex; align-items: center; justify-content: center;
  height: 36px; padding: 0 11px; border-radius: 10px;
  border: 1px solid transparent; font-weight: 500; font-size: .88rem;
  transition: all var(--spd) var(--bez);
}
.nav-links a:hover { background: rgba(245,166,35,.08); border-color: rgba(245,166,35,.18); transform: translateY(-1px); text-decoration: none; color: #fcd472 }
.nav-links a.active { background: rgba(245,166,35,.16); border-color: rgba(245,166,35,.38); color: #fcd472; text-decoration: none; box-shadow: 0 0 16px rgba(245,166,35,.25) }

.nav-toggle { display: none; width: 44px; height: 36px; border-radius: 10px; border: 1px solid rgba(245,166,35,.18); background: rgba(245,166,35,.04); place-items: center }
.nav-toggle span, .nav-toggle span::before, .nav-toggle span::after { position: absolute; left: 50%; width: 20px; height: 2px; background: var(--text); border-radius: 2px; content: ""; transform: translateX(-50%); transition: all var(--spd) var(--bez) }
.nav-toggle span { top: 50%; transform: translate(-50%, -50%) }
.nav-toggle span::before { top: -7px }
.nav-toggle span::after  { top:  7px }

.hud-stats {
  display: flex; align-items: center; gap: 10px;
  padding: 8px clamp(8px, 2vw, 12px);
  background: linear-gradient(180deg, rgba(18,15,10,.9), rgba(18,15,10,.55));
  border-bottom-left-radius: 14px; border-bottom-right-radius: 14px;
  border: 1px solid rgba(245,166,35,.1); border-top: none;
  box-shadow: 0 5px 18px rgba(0,0,0,.4);
}
.hud__bars { display: flex; gap: 8px }
.hud-bar {
  --v: 50; width: 120px; height: 10px; border-radius: 12px;
  background: #0a0804; position: relative; overflow: hidden;
  border: 1px solid rgba(255,255,255,.06); box-shadow: inset 0 2px 4px rgba(0,0,0,.5);
}
.hud-bar::after { content: ""; position: absolute; inset: 0; transform-origin: left; transform: scaleX(calc(var(--v)/100)); background: linear-gradient(90deg, rgba(255,255,255,.14), rgba(255,255,255,.02)) }
.hud-bar.hp::before { content: ""; position: absolute; inset: 0; transform: scaleX(calc(var(--v)/100)); transform-origin: left; background: linear-gradient(90deg, #ef4444, #f97316); animation: hudPls 2s ease-in-out infinite }
.hud-bar.xp::before { content: ""; position: absolute; inset: 0; transform: scaleX(calc(var(--v)/100)); transform-origin: left; background: linear-gradient(90deg, #f5a623, #fbbf24); animation: hudPls 2s ease-in-out infinite .5s }
@keyframes hudPls { 0%, 100% { filter: brightness(1) } 50% { filter: brightness(1.3) } }

.hud__inv { display: flex; gap: 7px }
.slot { width: 36px; height: 36px; background: linear-gradient(135deg, #1c1810, #16130d); border: 1px solid rgba(245,166,35,.1); border-radius: 8px; display: grid; place-items: center; box-shadow: inset 0 2px 0 rgba(255,255,255,.04); transition: all var(--spd) var(--bez) }
.slot:hover { transform: translateY(-2px) scale(1.06); border-color: rgba(245,166,35,.28); box-shadow: 0 4px 14px rgba(245,166,35,.18) }
.i { width: 18px; height: 18px; display: inline-block; background-size: contain; background-repeat: no-repeat; background-position: center; image-rendering: pixelated }
.i-emerald { background-image: linear-gradient(#35dd64, #1aa346); border-radius: 2px }
.i-map     { background-image: radial-gradient(circle at 40% 30%, #d4b896, #8c6940); border-radius: 2px }
.i-feather { background-image: linear-gradient(180deg, #fde68a, #f5a623); border-radius: 2px }

/* ─────────────────────────────────────
   HERO
───────────────────────────────────── */
.hero {
  padding: clamp(50px, 9vh, 110px) 0 50px;
  position: relative; overflow: hidden;
}
.hero::before {
  content: ""; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
  width: 900px; height: 450px; pointer-events: none;
  background: radial-gradient(ellipse, rgba(245,166,35,.1) 0%, transparent 70%);
  animation: heroGlow 8s ease-in-out infinite alternate;
}
@keyframes heroGlow { 0% { opacity: .5; transform: translateX(-50%) scale(1) } 100% { opacity: 1; transform: translateX(-50%) scale(1.12) } }

.container { width: min(1240px, 94%); margin: 0 auto }

.hero-inner { display: flex; flex-direction: column; align-items: center; gap: 22px; text-align: center }

.hero-eyebrow {
  display: inline-flex; align-items: center; gap: 9px;
  padding: 7px 18px; border-radius: 99px;
  background: rgba(245,166,35,.09); border: 1px solid rgba(245,166,35,.22);
  font-size: .87rem; font-weight: 600; color: #fcd472;
  box-shadow: 0 0 20px rgba(245,166,35,.08);
}
.amber-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--a); box-shadow: 0 0 8px var(--a);
  animation: pulse 1.4s ease-in-out infinite;
}
.amber-dot.small { width: 7px; height: 7px }
@keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1 } 50% { transform: scale(1.6); opacity: .4 } }

.hero-title { font-family: "Cinzel", serif; font-weight: 900; line-height: 1.05; display: flex; flex-direction: column; gap: 4px }
.ht-sm { font-size: clamp(.9rem, 2vw, 1.1rem); color: var(--muted); letter-spacing: 8px; text-transform: uppercase }
.ht-big {
  font-size: clamp(3rem, 8vw, 5.5rem);
  background: linear-gradient(135deg, #fde68a 0%, #f5a623 40%, #c97d0f 80%);
  background-size: 200%;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  filter: drop-shadow(0 0 28px rgba(245,166,35,.4));
  animation: gradMove 6s linear infinite;
}
@keyframes gradMove { 0% { background-position: 0% 50% } 100% { background-position: 200% 50% } }

.hero-lead { font-size: clamp(.9rem, 1.7vw, 1.05rem); color: var(--muted); max-width: 66ch }
.hero-lead strong { color: #fcd472 }

/* ─────────────────────────────────────
   CUPONES
───────────────────────────────────── */
.coupon-wrap {
  width: 100%; max-width: 780px;
  background: linear-gradient(140deg, rgba(22,19,13,.95), rgba(18,16,10,.95));
  border: 1px solid rgba(245,166,35,.14); border-radius: var(--r);
  padding: 16px 20px; display: flex; flex-direction: column; gap: 12px;
}
.coupon-header { display: flex; align-items: center; gap: 10px; flex-wrap: wrap }
.coupon-ico  { font-size: 1.2rem }
.coupon-ttl  { font-weight: 700; color: #fcd472; font-size: .95rem; flex: 1 }
.btn-ghost-sm {
  height: 28px; padding: 0 12px; border-radius: 99px;
  border: 1px solid rgba(245,166,35,.2); background: rgba(245,166,35,.06);
  color: var(--muted); font-size: .78rem; font-weight: 600;
  transition: all var(--spd) var(--bez);
}
.btn-ghost-sm:hover { border-color: rgba(245,166,35,.4); color: var(--text) }
.coupon-list { display: flex; flex-wrap: wrap; gap: 8px }
.coupon-card {
  display: flex; flex-direction: column; align-items: center;
  padding: 9px 14px; border-radius: var(--r-sm);
  background: rgba(245,166,35,.06); border: 1px solid rgba(245,166,35,.16);
  color: #fcd472; font-weight: 700; font-size: .88rem;
  transition: all var(--spd) var(--bez); cursor: pointer;
}
.coupon-card:hover { background: rgba(245,166,35,.14); border-color: rgba(245,166,35,.38); transform: translateY(-2px) }
.coupon-card[data-active="true"] { background: rgba(245,166,35,.2); border-color: rgba(245,166,35,.55); box-shadow: 0 0 12px rgba(245,166,35,.2) }
.coupon-card[aria-disabled="true"] { opacity: .35; pointer-events: none; filter: grayscale(.7) }
.coupon-card .cd { display: block; font-size: .65rem; margin-top: 3px; color: var(--muted); font-weight: 400 }
.price .old-price { text-decoration: line-through; color: var(--dim); font-size: .9em; margin-right: 5px }
.price .new-price { color: #fde68a; font-weight: 700 }

/* ─────────────────────────────────────
   FILTROS
───────────────────────────────────── */
.filter-wrap { width: 100%; max-width: 920px; display: flex; flex-direction: column; gap: 10px }
.filter-lbl { font-size: .78rem; color: var(--dim); text-transform: uppercase; letter-spacing: 1px; font-weight: 600 }
.chip-group { display: flex; flex-wrap: wrap; gap: 7px }
.chip {
  display: inline-flex; align-items: center; height: 32px; padding: 0 13px;
  border-radius: 99px; border: 1px solid rgba(245,166,35,.14);
  background: rgba(245,166,35,.04); color: var(--muted);
  font-size: .82rem; font-weight: 500;
  transition: all var(--spd) var(--bez);
}
.chip:hover { border-color: rgba(245,166,35,.3); color: var(--text); transform: translateY(-1px) }
.chip.is-on { background: rgba(245,166,35,.16); border-color: rgba(245,166,35,.45); color: #fcd472; box-shadow: 0 0 12px rgba(245,166,35,.18) }

/* Búsqueda */
.search-wrap { position: relative; width: 100%; max-width: 600px }
.search-ico { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); width: 17px; height: 17px; color: var(--dim); pointer-events: none }
#searchInput {
  width: 100%; height: 42px; padding: 0 38px 0 40px;
  border: 1px solid rgba(245,166,35,.14); border-radius: var(--r-sm);
  background: rgba(13,11,8,.8); color: var(--text); font-size: .9rem;
  transition: border-color var(--spd), box-shadow var(--spd);
}
#searchInput:focus { outline: none; border-color: rgba(245,166,35,.45); box-shadow: 0 0 0 3px rgba(245,166,35,.1) }
#searchInput::placeholder { color: var(--dim) }
.clear-btn { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); font-size: .95rem; color: var(--dim); transition: color var(--spd) }
.clear-btn:hover { color: var(--text) }

/* Leyenda */
.legend-row { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; font-size: .81rem; color: var(--muted) }
.ldot { width: 9px; height: 9px; border-radius: 50%; display: inline-block; margin-right: 3px; vertical-align: middle }
.ldot.gold { background: var(--gold); box-shadow: 0 0 6px var(--gold) }
.ldot.red  { background: var(--danger) }
.ldot.blue { background: var(--info) }

/* ─────────────────────────────────────
   SECCIONES DE PRODUCTOS
───────────────────────────────────── */
.shop-sec {
  position: relative;
  padding: clamp(40px, 7vw, 80px) 0;
  isolation: isolate;
}
.shop-sec + .shop-sec { border-top: 1px solid rgba(245,166,35,.07) }

/* ─────────────────────────────────────
   CAPA DE FONDO DE SECCIÓN  ← FIX PRINCIPAL
   background-attachment: scroll  → imagen estática con el scroll
   sin filter en el elemento mismo → evita bugs de stacking context
───────────────────────────────────── */
.sec-bg-layer {
  position: absolute;
  inset: 0;
  z-index: -1;
  background-image: var(--sec-bg, none);
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: scroll;        /* ← FIJO al contenedor, no al viewport */
  opacity: var(--sec-bg-opacity, .12);
  pointer-events: none;
  /* ↓ filter removido del elemento raíz para evitar bugs de stacking context
       Si quieres el ajuste visual, usa el pseudo-elemento ::after */
}
.sec-bg-layer::after {
  content: "";
  position: absolute;
  inset: 0;
  background: inherit;
  background-attachment: scroll;
  filter: saturate(1.1) brightness(.9);
}

.sec-head { display: flex; align-items: flex-start; gap: 16px; margin-bottom: 28px }
.sec-icon { font-size: 2.2rem; flex-shrink: 0; filter: drop-shadow(0 0 10px rgba(245,166,35,.4)) }
.sec-head h2 { font-family: "Cinzel", serif; font-size: clamp(1.25rem, 2.5vw, 1.75rem); font-weight: 700; background: linear-gradient(135deg, var(--text), #fde68a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 4px }
.sec-sub { color: var(--muted); font-size: .87rem }

/* ─────────────────────────────────────
   GRID DE PRODUCTOS
───────────────────────────────────── */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
  gap: 18px;
}

/* ─────────────────────────────────────
   TARJETA DE PRODUCTO
───────────────────────────────────── */
.p-card {
  position: relative; border-radius: var(--r); overflow: hidden;
  background: linear-gradient(155deg, #1c1810, #16130d, #1a1609);
  border: 1px solid rgba(245,166,35,.1);
  box-shadow: var(--sh);
  display: flex; flex-direction: column;
  transition: transform var(--spd) var(--bez), box-shadow var(--spd) var(--bez), border-color var(--spd) var(--bez);
  animation: cardIn .42s var(--bez) backwards;
}
@keyframes cardIn { from { opacity: 0; transform: translateY(18px) scale(.97) } to { opacity: 1; transform: none } }

.p-card::before { content: ""; position: absolute; top: 0; left: 0; right: 0; height: 2px; z-index: 5; opacity: .55; transition: opacity var(--spd) }
.p-card.q-legendary::before { background: linear-gradient(90deg, transparent, var(--legendary), transparent) }
.p-card.q-epic::before      { background: linear-gradient(90deg, transparent, var(--epic), transparent) }
.p-card.q-rare::before      { background: linear-gradient(90deg, transparent, var(--rare), transparent) }
.p-card.q-common::before    { background: linear-gradient(90deg, transparent, var(--common), transparent); opacity: .25 }

.p-card.gold { border-color: rgba(251,191,36,.28); box-shadow: var(--sh), 0 0 0 1px rgba(251,191,36,.1) inset }

.p-card:hover { transform: translateY(-6px) scale(1.015); border-color: rgba(245,166,35,.32); box-shadow: 0 20px 50px rgba(0,0,0,.5), var(--sh-a) }
.p-card.gold:hover { border-color: rgba(251,191,36,.5) }
.p-card:hover::before { opacity: 1 }

.p-card::after { content: ""; position: absolute; top: 0; left: -60%; width: 40%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,.04), transparent); transform: skewX(-18deg); transition: left .55s var(--bez); pointer-events: none; z-index: 4 }
.p-card:hover::after { left: 120% }

.p-card-img { position: relative; height: 170px; overflow: hidden; flex-shrink: 0; background: #0d0b08 }
.p-card-img img { width: 100%; height: 100%; object-fit: cover; transition: transform .7s var(--bez), filter .5s; filter: brightness(.8) saturate(.9) }
.p-card:hover .p-card-img img { transform: scale(1.06); filter: brightness(.95) saturate(1.1) }
.p-card-img::after { content: ""; position: absolute; inset: 0; background: linear-gradient(180deg, rgba(13,11,8,.04) 0%, rgba(13,11,8,.55) 70%, rgba(13,11,8,.95) 100%) }

.out-overlay {
  position: absolute; inset: 0; background: rgba(0,0,0,.62); display: grid; place-items: center; backdrop-filter: blur(2px); z-index: 3;
  opacity: 0; pointer-events: none; transition: opacity var(--spd) var(--bez);
}
.p-card.is-out .out-overlay { opacity: 1; pointer-events: auto }
.out-badge { display: flex; flex-direction: column; align-items: center; gap: 5px; padding: 14px 18px; border-radius: 12px; background: rgba(13,11,8,.9); border: 1px solid rgba(255,255,255,.08) }
.out-badge strong { font-weight: 800; color: #f87171; letter-spacing: 2px }
.out-restock { font-size: .78rem; color: #93c5fd; font-family: "Space Mono", monospace }

.p-chips { position: absolute; top: 10px; left: 10px; right: 10px; display: flex; justify-content: space-between; align-items: flex-start; z-index: 2 }
.p-chip { display: inline-flex; align-items: center; gap: 4px; padding: 3px 9px; border-radius: 99px; font-size: .68rem; font-weight: 700; letter-spacing: .4px }
.p-chip.q-legendary { background: rgba(28,17,4,.88); color: #fde68a; border: 1px solid rgba(245,166,35,.35) }
.p-chip.q-epic      { background: rgba(20,8,30,.88);  color: #d8b4fe; border: 1px solid rgba(168,85,247,.32) }
.p-chip.q-rare      { background: rgba(5,18,28,.88);  color: #7dd3fc; border: 1px solid rgba(56,189,248,.3) }
.p-chip.q-common    { background: rgba(20,20,20,.88); color: #d1d5db; border: 1px solid rgba(156,163,175,.2) }
.p-chip.c-gold      { background: rgba(28,22,4,.88);  color: #fde68a; border: 1px solid rgba(251,191,36,.32) }

.p-card-body { padding: 14px 15px 10px; display: flex; flex-direction: column; flex: 1; gap: 6px }
.p-card-name { font-family: "Cinzel", serif; font-size: .97rem; font-weight: 700; color: var(--text); line-height: 1.25; transition: color var(--spd) }
.p-card:hover .p-card-name { color: #fde68a }
.p-card-desc { font-size: .82rem; color: var(--muted); line-height: 1.5 }

.p-divider { height: 1px; background: linear-gradient(90deg, rgba(245,166,35,.18), transparent); margin: 2px 0 }
.p-card.gold .p-divider { background: linear-gradient(90deg, rgba(251,191,36,.28), transparent) }

.p-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 2px }
.p-tag { display: inline-flex; align-items: center; height: 20px; padding: 0 7px; border-radius: 99px; font-size: .67rem; font-weight: 600; background: rgba(245,166,35,.07); border: 1px solid rgba(245,166,35,.16); color: #fcd472 }

/* COUNTDOWN */
.p-expiry-wrap { margin-top: 6px }
.p-expiry-lbl { font-size: .68rem; color: var(--dim); margin-bottom: 4px; display: flex; align-items: center; gap: 4px }
.p-expiry-cd { display: flex; gap: 4px; flex-wrap: wrap }
.p-cd-block {
  display: flex; flex-direction: column; align-items: center;
  background: rgba(245,166,35,.07); border: 1px solid rgba(245,166,35,.18);
  border-radius: 8px; padding: 5px 6px; min-width: 42px;
}
.p-cd-val { font-family: "Space Mono", monospace; font-size: .95rem; font-weight: 700; color: var(--a); line-height: 1; text-shadow: 0 0 8px rgba(245,166,35,.4) }
.p-cd-lbl { font-size: .5rem; color: var(--dim); text-transform: uppercase; margin-top: 2px; letter-spacing: .5px }

/* PRECIO */
.p-price-row { display: flex; align-items: baseline; gap: 7px; margin-top: 4px }
.p-price-main { font-family: "Space Mono", monospace; font-size: 1.1rem; font-weight: 700; color: #fde68a }
.p-price-old  { font-size: .82rem; color: var(--dim); text-decoration: line-through }
.p-price-new  { font-family: "Space Mono", monospace; font-size: 1.1rem; font-weight: 700; color: #fde68a }

.p-card-foot {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 15px 13px; gap: 8px;
  border-top: 1px solid rgba(245,166,35,.07);
}
.p-stock { font-size: .76rem; color: var(--dim); display: flex; align-items: center; gap: 4px }
.p-actions { display: flex; gap: 6px }
.btn-detail {
  height: 30px; padding: 0 11px; border-radius: 99px;
  border: 1px solid rgba(245,166,35,.18); background: rgba(245,166,35,.05);
  color: var(--muted); font-size: .76rem; font-weight: 600;
  transition: all var(--spd) var(--bez);
}
.btn-detail:hover { border-color: rgba(245,166,35,.35); color: var(--text) }
.btn-buy {
  height: 30px; padding: 0 14px; border-radius: 99px;
  background: linear-gradient(135deg, #f5a623, #c97d0f);
  color: #0d0b08; font-size: .8rem; font-weight: 800;
  box-shadow: 0 3px 10px rgba(245,166,35,.3);
  transition: all var(--spd) var(--bez);
}
.btn-buy:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(245,166,35,.45) }
.btn-buy:disabled { filter: grayscale(1) brightness(.6); cursor: not-allowed; transform: none }

.p-empty { grid-column: 1/-1; text-align: center; padding: 40px; color: var(--dim) }

.p-restock-tag {
  display: inline-flex; align-items: center; height: 22px; padding: 0 9px;
  border-radius: 99px; background: rgba(96,165,250,.07); border: 1px solid rgba(96,165,250,.18);
  color: #93c5fd; font-size: .68rem; font-weight: 600;
}

/* ─────────────────────────────────────
   MODAL
───────────────────────────────────── */
.modal { position: fixed; inset: 0; z-index: 80; display: grid; place-items: center; opacity: 0; pointer-events: none; transition: opacity .28s var(--bez) }
.modal.open { opacity: 1; pointer-events: auto }
.modal-overlay { position: absolute; inset: 0; background: rgba(0,0,0,.65); backdrop-filter: blur(3px) }
.modal-dialog {
  position: relative; z-index: 1;
  width: min(960px, 95%); max-height: 87vh;
  background: linear-gradient(155deg, #1c1810, #16130d);
  border: 1px solid rgba(245,166,35,.16); border-radius: var(--r);
  box-shadow: 0 28px 80px rgba(0,0,0,.7), 0 0 0 1px rgba(245,166,35,.06) inset;
  overflow: hidden; display: flex; flex-direction: column;
  animation: modalPop .3s var(--bez);
}
@keyframes modalPop { from { opacity: 0; transform: scale(.95) translateY(18px) } to { opacity: 1; transform: none } }
.modal-head { display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; border-bottom: 1px solid rgba(245,166,35,.09); background: rgba(245,166,35,.02); flex-shrink: 0 }
.modal-head-l { display: flex; align-items: center; gap: 12px }
.modal-emoji { font-size: 2rem; filter: drop-shadow(0 0 10px rgba(245,166,35,.4)) }
.modal-title { font-family: "Cinzel", serif; font-size: 1.2rem; font-weight: 700; color: var(--text); margin: 0 }
.modal-close-x { width: 34px; height: 34px; border-radius: 50%; background: rgba(239,68,68,.1); border: 1px solid rgba(239,68,68,.2); color: #f87171; font-size: .95rem; font-weight: 700; transition: all var(--spd) var(--bez) }
.modal-close-x:hover { background: rgba(239,68,68,.2); transform: rotate(90deg) }
.modal-body { overflow-y: auto; padding: 20px; flex: 1; scrollbar-width: thin; scrollbar-color: rgba(245,166,35,.3) transparent }
.modal-body::-webkit-scrollbar { width: 5px }
.modal-body::-webkit-scrollbar-thumb { background: rgba(245,166,35,.3); border-radius: 99px }

.m-hero { display: grid; grid-template-columns: 280px 1fr; gap: 18px; margin-bottom: 20px }
.m-img { height: 220px; border-radius: 12px; overflow: hidden; background: #0d0b08 }
.m-img img { width: 100%; height: 100%; object-fit: cover }
.m-info { display: flex; flex-direction: column; gap: 10px }
.m-quality-chip { align-self: flex-start; padding: 4px 12px; border-radius: 99px; font-size: .72rem; font-weight: 700; text-transform: uppercase; letter-spacing: .5px }
.m-desc { font-size: .9rem; color: #d4c5a0; line-height: 1.65 }
.m-meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px }
.m-meta-item { padding: 8px 11px; border-radius: 10px; background: rgba(245,166,35,.05); border: 1px solid rgba(245,166,35,.1); font-size: .81rem; color: var(--muted) }
.m-meta-item strong { color: var(--text) }

.m-section { margin-top: 18px }
.m-sec-title { font-family: "Cinzel", serif; font-size: .93rem; font-weight: 700; color: var(--a); margin-bottom: 12px; display: flex; align-items: center; gap: 9px }
.m-sec-title::after { content: ""; flex: 1; height: 1px; background: linear-gradient(90deg, rgba(245,166,35,.28), transparent) }

.m-cd-wrap { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; padding: 14px; border-radius: var(--r-sm); background: rgba(245,166,35,.05); border: 1px solid rgba(245,166,35,.12) }
.m-cd-block { display: flex; flex-direction: column; align-items: center; background: rgba(245,166,35,.08); border: 1px solid rgba(245,166,35,.2); border-radius: 10px; padding: 9px 13px; min-width: 60px }
.m-cd-val { font-family: "Space Mono", monospace; font-size: 1.45rem; font-weight: 700; color: var(--a); line-height: 1; text-shadow: 0 0 12px rgba(245,166,35,.5) }
.m-cd-lbl { font-size: .6rem; color: var(--dim); text-transform: uppercase; margin-top: 4px; letter-spacing: .5px }
.m-cd-note { font-size: .83rem; color: var(--muted); font-style: italic; margin-left: 4px }

.modal-foot { display: flex; align-items: center; justify-content: flex-end; gap: 9px; padding: 13px 20px; border-top: 1px solid rgba(245,166,35,.09); background: rgba(245,166,35,.02); flex-shrink: 0 }
.modal-buy-btn { height: 38px; padding: 0 22px; border-radius: var(--r-sm); background: linear-gradient(135deg, #f5a623, #c97d0f); color: #0d0b08; font-weight: 800; font-size: .9rem; box-shadow: 0 4px 14px rgba(245,166,35,.3); transition: all var(--spd) var(--bez) }
.modal-buy-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(245,166,35,.45) }
.modal-buy-btn:disabled { filter: grayscale(1) brightness(.6); cursor: not-allowed; transform: none }
.modal-sec-btn { height: 38px; padding: 0 15px; border-radius: var(--r-sm); border: 1px solid rgba(255,255,255,.1); color: var(--muted); font-size: .88rem; transition: all var(--spd) var(--bez) }
.modal-sec-btn:hover { border-color: rgba(255,255,255,.2); color: var(--text) }

/* ─────────────────────────────────────
   FOOTER
───────────────────────────────────── */
.site-footer { padding: 55px 0 28px; margin-top: 20px; border-top: 1px solid rgba(245,166,35,.09); background: linear-gradient(180deg, transparent, rgba(10,8,5,.5)); position: relative }
.site-footer::before { content: ""; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 600px; height: 1px; background: linear-gradient(90deg, transparent, rgba(245,166,35,.3), transparent) }
.footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 40px; margin-bottom: 40px }
.footer-brand { display: flex; flex-direction: column; gap: 14px }
.footer-logo { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1.05rem; color: var(--text) }
.footer-tagline { font-size: .85rem; color: var(--muted); line-height: 1.65; max-width: 270px }
.footer-live { display: inline-flex; align-items: center; gap: 8px; font-size: .8rem; color: var(--a); opacity: .8 }
.footer-col h4 { font-family: "Cinzel", serif; font-size: .8rem; font-weight: 700; color: var(--a); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 14px }
.footer-col ul { list-style: none; display: flex; flex-direction: column; gap: 8px }
.footer-col ul li a { font-size: .86rem; color: var(--muted); display: inline-flex; align-items: center; gap: 6px; transition: all var(--spd) var(--bez) }
.footer-col ul li a:hover { color: var(--a); text-decoration: none; transform: translateX(4px) }
.footer-bottom { border-top: 1px solid rgba(245,166,35,.07); padding-top: 18px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 8px; font-size: .8rem; color: var(--dim) }
.footer-live-txt { color: var(--a); opacity: .7 }

/* ─────────────────────────────────────
   TOAST
───────────────────────────────────── */
.toast { position: fixed; bottom: 70px; left: 50%; transform: translateX(-50%); background: rgba(13,11,8,.97); border: 1px solid rgba(245,166,35,.32); border-radius: var(--r-sm); padding: 11px 20px; box-shadow: 0 8px 28px rgba(0,0,0,.5); opacity: 0; pointer-events: none; transition: opacity .3s var(--bez); z-index: 100; color: var(--text); font-weight: 600; backdrop-filter: blur(10px) }
.toast.show { opacity: 1; pointer-events: auto; animation: toastIn .3s var(--bez) }
@keyframes toastIn { from { transform: translate(-50%, 14px); opacity: 0 } to { transform: translate(-50%, 0); opacity: 1 } }

/* ─────────────────────────────────────
   REVEAL ON SCROLL
───────────────────────────────────── */
.reveal { opacity: 0; transform: translateY(14px); transition: opacity .6s var(--bez), transform .6s var(--bez) }
.reveal.is-in { opacity: 1; transform: none }

/* ─────────────────────────────────────
   BOTÓN MÚSICA
───────────────────────────────────── */
.pixel-button {
  display: inline-block; padding: 11px 20px; font-size: 10px;
  text-transform: uppercase; font-family: 'Press Start 2P', monospace;
  color: #0d0b08;
  background: linear-gradient(145deg, #f5a623, #c97d0f);
  border: 4px solid #0a0804; cursor: pointer; margin-top: 20px;
  position: relative; overflow: hidden;
  box-shadow: inset -4px -4px 0px #7a4c08, inset 4px 4px 0px #fde68a, 0 0 10px rgba(245,166,35,.3), 4px 4px 0px #000;
  transition: all .15s ease;
}
.pixel-button::before { content: ""; position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px; border: 2px solid rgba(255,255,255,.2); border-radius: 2px; animation: glowMove 2.5s linear infinite; pointer-events: none }
@keyframes glowMove { 0% { filter: drop-shadow(0 0 4px #f5a623); opacity: .6 } 50% { filter: drop-shadow(0 0 8px #fde68a); opacity: 1 } 100% { filter: drop-shadow(0 0 4px #f5a623); opacity: .6 } }
.pixel-button:hover { background: linear-gradient(145deg, #fde68a, #f5a623); transform: translateY(-2px) scale(1.03); box-shadow: inset -4px -4px 0px #7a4c08, inset 4px 4px 0px #fff8e1, 0 0 15px rgba(245,166,35,.6), 6px 6px 0px #000 }
.pixel-button:active { transform: translateY(1px) scale(.98); box-shadow: inset 4px 4px 0px #7a4c08, inset -4px -4px 0px #fde68a, 0 0 5px rgba(245,166,35,.5), 2px 2px 0px #000 }

.floating-music { position: fixed; bottom: 20px; right: 20px; z-index: 999; margin: 0; border-radius: 6px }
.floating-music.active { background: linear-gradient(145deg, #c97d0f, #7a4c08); color: #fde68a }

/* ─────────────────────────────────────
   CAPAS FESTIVIDADES
───────────────────────────────────── */
.festivity-layer-base, .festivity-layer-mid, .festivity-layer-top { position: fixed; inset: 0; pointer-events: none; overflow: hidden }
.festivity-layer-base { z-index: 9995 }
.festivity-layer-mid  { z-index: 9997 }
.festivity-layer-top  { z-index: 9999 }

/* ─────────────────────────────────────
   ANIMACIONES FESTIVIDADES
───────────────────────────────────── */
.newyear-rocket { position: absolute; bottom: -60px; background: currentColor; animation: rocketUp linear forwards; border-radius: 3px 3px 0 0; }
@keyframes rocketUp { 0% { bottom: -60px; opacity: 1 } 80% { opacity: 1 } 100% { bottom: 60vh; opacity: 0 } }
.newyear-burst { position: absolute; border-radius: 50%; animation: burst ease-out forwards; }
@keyframes burst { 0% { transform: translate(0,0) scale(1); opacity: 1 } 100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0 } }
.newyear-trail { position: absolute; width: 3px; height: 3px; border-radius: 50%; animation: trail ease-out forwards; }
@keyframes trail { 0% { transform: translateY(0); opacity: 1 } 100% { transform: translateY(var(--dy)); opacity: 0 } }
.newyear-year-text { position: absolute; font-family: 'Cinzel', serif; font-size: 1.4rem; font-weight: 900; color: #FFD700; text-shadow: 0 0 20px #FFD700; transform: translate(-50%, -50%); animation: yearTextPop ease-out forwards 2s; }
@keyframes yearTextPop { 0% { opacity: 0; transform: translate(-50%,-50%) scale(0.3) } 20% { opacity: 1; transform: translate(-50%,-50%) scale(1.2) } 80% { opacity: 1; transform: translate(-50%,-50%) scale(1) } 100% { opacity: 0; transform: translate(-50%,-50%) scale(0.8) translateY(-30px) } }
.valentine-rose-petal { position: absolute; top: -50px; animation: petalFall linear forwards; }
@keyframes petalFall { 0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--swing-1)) rotate(var(--rotate-1)) } 50% { transform: translateY(50vh) translateX(var(--swing-2)) rotate(var(--rotate-2)) } 75% { transform: translateY(75vh) translateX(var(--swing-3)) rotate(var(--rotate-3)) } 100% { transform: translateY(110vh) translateX(0) rotate(360deg); opacity: 0 } }
.valentine-heart-float { position: absolute; bottom: -80px; animation: heartFloat ease-out forwards; }
@keyframes heartFloat { 0% { transform: translateX(0) rotate(0deg) scale(1); opacity: 1; bottom: -80px } 30% { transform: translateX(var(--swing-x)) rotate(var(--rotate-angle)) scale(1.1); bottom: 40vh } 60% { transform: translateX(var(--swing-x-2)) rotate(var(--rotate-angle-2,10deg)) scale(0.9); bottom: 70vh } 100% { transform: translateX(0) rotate(var(--rotate-final)) scale(0.5); opacity: 0; bottom: 95vh } }
.valentine-particle-love { position: absolute; animation: loveParticle ease-out forwards; }
@keyframes loveParticle { 0% { transform: translate(0,0) rotate(0deg) scale(1); opacity: 1 } 100% { transform: translate(var(--px),var(--py)) rotate(var(--pr)) scale(0); opacity: 0 } }
.valentine-love-text { position: absolute; font-family: 'Cinzel',serif; font-weight: 700; font-size: 1rem; transform: translate(-50%,-50%); animation: loveText ease-out forwards 2.2s; text-shadow: 0 0 10px currentColor; }
@keyframes loveText { 0% { opacity:0; transform: translate(-50%,-50%) scale(0.5) } 20% { opacity:1; transform: translate(-50%,-50%) scale(1.1) } 80% { opacity:1; transform: translate(-50%,-60%) scale(1) } 100% { opacity:0; transform: translate(-50%,-80%) scale(0.8) } }
.catday-walking { position: absolute; right: -100px; animation: catWalk linear forwards; }
@keyframes catWalk { 0% { right: -100px; transform: scaleX(-1) } 100% { right: 110vw; transform: scaleX(-1) } }
.catday-paw-print { position: absolute; animation: pawFade ease-out forwards 3s; }
@keyframes pawFade { 0% { opacity:1 } 100% { opacity:0 } }
.stpatrick-clover { position: absolute; top: -50px; animation: cloverFall linear forwards; }
@keyframes cloverFall { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--swing-a)) rotate(var(--rotate-a)) } 50% { transform: translateY(50vh) translateX(var(--swing-b)) rotate(var(--rotate-b)) } 75% { transform: translateY(75vh) translateX(var(--swing-c)) rotate(var(--rotate-c)) } 100% { transform: translateY(110vh) translateX(0) rotate(720deg); opacity: 0 } }
.stpatrick-rainbow { position: absolute; font-size: 8rem; animation: rainbowRise ease-out forwards 3s; }
@keyframes rainbowRise { 0% { opacity: 0; transform: scale(0.5) translateY(50px) } 30% { opacity: 1; transform: scale(1.1) translateY(0) } 80% { opacity: 1 } 100% { opacity: 0; transform: scale(1.3) translateY(-30px) } }
.easter-bouncing { position: absolute; top: -50px; animation: easterBounce linear forwards; }
@keyframes easterBounce { 0% { transform: translateX(0) translateY(0) rotate(0); opacity: 1 } 20% { transform: translateX(var(--bounce-x-1)) translateY(var(--bounce-y-1)) rotate(var(--bounce-r-1)) } 40% { transform: translateX(var(--bounce-x-2)) translateY(var(--bounce-y-2)) rotate(var(--bounce-r-2)) } 60% { transform: translateX(var(--bounce-x-1)) translateY(var(--bounce-y-1)) rotate(var(--bounce-r-1)) } 80% { transform: translateX(var(--final-x)) translateY(80vh) rotate(var(--final-r)) } 100% { transform: translateX(var(--final-x)) translateY(110vh) rotate(var(--final-r)); opacity: 0 } }
.mothersday-elegant-flower { position: absolute; top: -50px; animation: flowerDrift linear forwards; }
@keyframes flowerDrift { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--drift-1)) rotate(var(--spin-1)) } 50% { transform: translateY(50vh) translateX(var(--drift-2)) rotate(var(--spin-2)) } 75% { transform: translateY(75vh) translateX(var(--drift-3)) rotate(var(--spin-3)) } 100% { transform: translateY(110vh) translateX(0) rotate(540deg); opacity: 0 } }
.halloween-spooky-element { position: absolute; top: -50px; animation: spookyFall linear forwards; }
@keyframes spookyFall { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--drift-a)) rotate(var(--rot-a)) } 50% { transform: translateY(50vh) translateX(var(--drift-b)) rotate(var(--rot-b)) } 75% { transform: translateY(75vh) translateX(var(--drift-c)) rotate(var(--rot-c)) } 100% { transform: translateY(110vh) translateX(0) rotate(720deg); opacity: 0 } }
.halloween-ghost-float { position: absolute; bottom: -80px; animation: ghostFloat ease-in-out forwards; }
@keyframes ghostFloat { 0% { transform: translateX(0) scale(1); opacity: 0.8; bottom: -80px } 20% { opacity: 1 } 50% { transform: translateX(30px) scale(1.05); bottom: 50vh } 100% { transform: translateX(-20px) scale(0.8); opacity: 0; bottom: 95vh } }
.halloween-bat-fly { position: absolute; right: -80px; top: 20%; animation: batFly linear forwards; }
@keyframes batFly { 0% { right: -80px; transform: translateY(0) scaleX(-1); opacity: 1 } 50% { transform: translateY(-40px) scaleX(-1) } 100% { right: 110vw; transform: translateY(20px) scaleX(-1); opacity: 1 } }
.dayofdead-marigold { position: absolute; top: -50px; animation: marigoldFloat linear forwards; }
@keyframes marigoldFloat { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--float-1)) rotate(var(--turn-1)) } 50% { transform: translateY(50vh) translateX(var(--float-2)) rotate(var(--turn-2)) } 75% { transform: translateY(75vh) translateX(var(--float-3)) rotate(var(--turn-3)) } 100% { transform: translateY(110vh) translateX(0) rotate(540deg); opacity: 0 } }
.christmas-snowflake { position: absolute; top: -40px; animation: snowFall linear forwards; }
@keyframes snowFall { 0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 1 } 50% { transform: translateY(50vh) translateX(var(--drift)) rotate(calc(var(--spin) * 0.5)) } 100% { transform: translateY(110vh) translateX(0) rotate(var(--spin)); opacity: 0 } }
.carnival-confetti-piece { position: absolute; top: -40px; animation: confetiDrop linear forwards; }
@keyframes confetiDrop { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 50% { transform: translateY(50vh) translateX(var(--drift-confetti)) rotate(calc(var(--spin-confetti) * 0.5)) } 100% { transform: translateY(110vh) translateX(0) rotate(var(--spin-confetti)); opacity: 0 } }
.carnival-rocket { position: absolute; bottom: -50px; border-radius: 3px 3px 0 0; animation: carnivalRocketUp linear forwards; }
@keyframes carnivalRocketUp { 0% { bottom: -50px; opacity: 1 } 80% { opacity: 1 } 100% { bottom: 65vh; opacity: 0 } }
.carnival-burst-particle { position: absolute; animation: carnivalBurst ease-out forwards; }
@keyframes carnivalBurst { 0% { transform: translate(0,0) rotate(0) scale(1); opacity: 1 } 100% { transform: translate(var(--explode-x),var(--explode-y)) rotate(var(--explode-r)) scale(0); opacity: 0 } }
.spring-blossom { position: absolute; top: -50px; animation: blossomFall linear forwards; }
@keyframes blossomFall { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 25% { transform: translateY(25vh) translateX(var(--wind-1)) rotate(var(--twirl-1)) } 50% { transform: translateY(50vh) translateX(var(--wind-2)) rotate(var(--twirl-2)) } 75% { transform: translateY(75vh) translateX(var(--wind-3)) rotate(var(--twirl-3)) } 100% { transform: translateY(110vh) translateX(0) rotate(540deg); opacity: 0 } }
.summer-element { position: absolute; bottom: -80px; animation: summerFloat ease-in-out forwards; }
@keyframes summerFloat { 0% { transform: translateX(0) translateY(0) rotate(0); opacity: 0.9; bottom: -80px } 25% { transform: translateX(var(--summer-drift-1)) translateY(0) rotate(var(--summer-spin-1)) } 50% { transform: translateX(var(--summer-drift-2)) translateY(-10px) rotate(var(--summer-spin-2)) } 75% { transform: translateX(var(--summer-drift-3)) translateY(0) rotate(var(--summer-spin-3)) } 100% { transform: translateX(var(--summer-drift-4)) rotate(var(--summer-spin-4)); opacity: 0; bottom: 105vh } }
.autumn-falling-leaf { position: absolute; top: -50px; animation: leafFall linear forwards; }
@keyframes leafFall { 0% { transform: translateY(0) translateX(0) rotate(0); opacity: 1 } 20% { transform: translateY(20vh) translateX(var(--autumn-1)) rotate(var(--leaf-spin-1)) } 40% { transform: translateY(40vh) translateX(var(--autumn-2)) rotate(var(--leaf-spin-2)) } 60% { transform: translateY(60vh) translateX(var(--autumn-3)) rotate(var(--leaf-spin-3)) } 80% { transform: translateY(80vh) translateX(var(--autumn-4)) rotate(var(--leaf-spin-4)) } 100% { transform: translateY(110vh) translateX(var(--autumn-5)) rotate(var(--leaf-spin-5)); opacity: 0 } }

/* ─────────────────────────────────────
   RESPONSIVE
───────────────────────────────────── */
@media (max-width: 1100px) {
  .footer-grid { grid-template-columns: 1fr 1fr; gap: 28px }
  .footer-brand { grid-column: 1/-1 }
  .m-hero { grid-template-columns: 1fr }
  .m-img { height: 200px }
}
@media (max-width: 900px) {
  :root { --nav-h: 60px }
  .nav-toggle { display: grid; place-items: center; position: relative }
  .nav-links { position: absolute; top: var(--nav-h); right: 12px; left: 12px; display: grid; gap: 6px; padding: 10px; border-radius: 13px; background: rgba(10,8,5,.97); border: 1px solid rgba(245,166,35,.18); backdrop-filter: blur(14px); transform-origin: top center; transform: scaleY(0); opacity: 0; pointer-events: none; transition: all .28s var(--bez); box-shadow: 0 16px 50px rgba(0,0,0,.6) }
  .nav-links.open { transform: scaleY(1); opacity: 1; pointer-events: auto }
  .products-grid { grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)) }
}
@media (max-width: 640px) {
  .ht-big { font-size: 2.6rem }
  .products-grid { grid-template-columns: 1fr }
  .footer-grid { grid-template-columns: 1fr }
  .footer-bottom { flex-direction: column; text-align: center }
  .coupon-list { gap: 6px }
}

/* =========================================================
   ★ LLAVES DEL CALENDARIO
   ========================================================= */

/* Sección */
.calkeys-sec {
  border-top: 1px solid rgba(59, 130, 246, 0.1) !important;
}
.calkeys-sec .sec-head h2 {
  background: linear-gradient(135deg, #93c5fd 0%, #6366f1 60%, #22d3ee 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Leyenda */
.calkey-legend {
  display: flex; flex-wrap: wrap; gap: 8px;
  margin-bottom: 22px; padding: 10px 14px;
  background: rgba(59, 130, 246, 0.05);
  border: 1px solid rgba(59, 130, 246, 0.12);
  border-radius: var(--r);
}
.ckl-item { display: flex; align-items: center; gap: 5px; font-size: .72rem; color: var(--muted) }
.ckl-ico { font-size: .9rem; flex-shrink: 0 }
.ckl-rare { color: #22d3ee; font-weight: 600 }

/* Mini iconos en tarjeta */
.calkey-mini-icons { display: flex; flex-wrap: wrap; gap: 4px; margin: 2px 0 5px }
.ck-icon {
  display: inline-flex; align-items: center; gap: 2px;
  padding: 2px 7px 2px 5px; border-radius: 99px; font-size: .82rem;
  border: 1px solid rgba(255,255,255,.08); background: rgba(255,255,255,.04);
  color: var(--muted); line-height: 1.2;
}
.ck-icon sub { font-size: .65rem; font-family: 'Space Mono', monospace; vertical-align: baseline; color: var(--muted); opacity: .85 }
.ck-icon-normal  { border-color: rgba(59,130,246,.28);  background: rgba(59,130,246,.07) }
.ck-icon-pink    { border-color: rgba(244,114,182,.28); background: rgba(244,114,182,.07) }
.ck-icon-green   { border-color: rgba(52,211,153,.28);  background: rgba(52,211,153,.07) }
.ck-icon-orange  { border-color: rgba(251,146,60,.28);  background: rgba(251,146,60,.07) }
.ck-icon-cat     { border-color: rgba(245,158,11,.28);  background: rgba(245,158,11,.07) }
.ck-icon-special { border-color: rgba(167,139,250,.28); background: rgba(167,139,250,.07) }
.ck-icon-future  { border-color: rgba(34,211,238,.4); background: rgba(34,211,238,.07); animation: futureIconGlow 2.5s ease-in-out infinite }
@keyframes futureIconGlow { 0%, 100% { box-shadow: 0 0 3px rgba(34,211,238,.15) } 50% { box-shadow: 0 0 8px rgba(34,211,238,.4) } }

/* Chips completos (modal) */
.calkey-chip { display: inline-flex; align-items: center; gap: 4px; padding: 3px 9px; border-radius: 99px; font-size: .72rem; font-weight: 700; font-family: "Space Mono", monospace; border: 1px solid; background: rgba(59,130,246,.07); color: #93c5fd; border-color: rgba(59,130,246,.25) }
.calkey-chip.ck-normal  { color: #60a5fa;  border-color: rgba(59,130,246,.35);  background: rgba(59,130,246,.08) }
.calkey-chip.ck-pink    { color: #f9a8d4;  border-color: rgba(244,114,182,.35); background: rgba(244,114,182,.08) }
.calkey-chip.ck-green   { color: #6ee7b7;  border-color: rgba(52,211,153,.35);  background: rgba(52,211,153,.08) }
.calkey-chip.ck-orange  { color: #fca5a5;  border-color: rgba(251,146,60,.35);  background: rgba(251,146,60,.08) }
.calkey-chip.ck-cat     { color: #fde68a;  border-color: rgba(245,158,11,.35);  background: rgba(245,158,11,.08) }
.calkey-chip.ck-special { color: #c4b5fd;  border-color: rgba(167,139,250,.35); background: rgba(167,139,250,.08) }
.calkey-chip.ck-future  { color: #22d3ee; border-color: rgba(34,211,238,.5); background: rgba(34,211,238,.08); animation: futureChipGlow 2s ease-in-out infinite }
@keyframes futureChipGlow { 0%, 100% { box-shadow: 0 0 4px rgba(34,211,238,.2) } 50% { box-shadow: 0 0 10px rgba(34,211,238,.5) } }