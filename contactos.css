/* =========================================================
   Moonveil Portal — Contactos (CSS)
   - Variables, base, HUD
   - Parralax y partículas
   - Chips y buscador
   - Tarjetas de contactos
   - Modal de chat (historial + composer)
   - Animaciones y responsive
   - Muchas utilidades para escalar y mantener el estilo
   ========================================================= */

/* ---------- Variables ---------- */
:root{
  --bg:#0c0f0d;
  --bg-2:#111612;
  --card:#121713;
  --elev-1:#171d18;
  --elev-2:#1c231d;
  --elev-3:#222a22;

  --text:#e8f3ea;
  --muted:#a9b8ae;
  --link:#87f39d;

  --primary:#30d158;
  --primary-2:#16a34a;
  --accent:#ffc43d;
  --danger:#ef4444;
  --info:#60a5fa;

  --gold1:#FFE08A; --gold2:#FFC43D;
  --myst1:#9ca3af; --myst2:#4b5563;

  --radius:18px;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --ring:0 0 0 3px rgba(48,209,88,.35);
  --speed:240ms;
  --bezier:cubic-bezier(.22,.61,.36,1);
  --nav-h:66px;
}

/* ---------- Reset ---------- */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:"Outfit", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
  line-height:1.55;
  color:var(--text);
  background:radial-gradient(1200px 800px at 70% -10%, #0d1511 0%, #0c0f0d 40%, #0a0d0a 100%);
  overflow-x:hidden;
}
img,svg,video,canvas{display:block;max-width:100%}
button,input,select,textarea{font:inherit;color:inherit}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:none;box-shadow:var(--ring)}
[hidden]{display:none !important}

/* ---------- Fondo ---------- */
.bg{position:fixed;inset:0;z-index:-2;pointer-events:none}
#bgParticles{position:absolute;inset:0;opacity:.35}
.bg-parallax{position:absolute;inset:0;overflow:hidden}
.layer{position:absolute;inset:0;background-repeat:repeat-x;background-position:bottom center;image-rendering:pixelated; opacity:.45;will-change:transform}
.layer.sky{background-image:linear-gradient(#0b1411,#09110e)}
.layer.far{background-image:radial-gradient(200px 80px at 70% 100%,#112218 0,#0d1813 70%,transparent 80%)}
.layer.mid{background-image:radial-gradient(200px 80px at 20% 100%,#14291d 0,#0e1b14 70%,transparent 80%)}
.layer.near{background-image:radial-gradient(200px 80px at 50% 100%,#183422 0,#102316 70%,transparent 80%)}

/* ---------- Navbar + HUD ---------- */
.top-hud{position:sticky;top:0;z-index:30;backdrop-filter:saturate(1.3) blur(6px)}
.navbar{
  height:var(--nav-h);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 clamp(12px,3vw,24px);
  background:linear-gradient(180deg, rgba(12,15,13,.7), rgba(12,15,13,.35) 70%, transparent);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{display:flex;align-items:center;gap:12px;font-weight:700;color:var(--text)}
.brand__title{letter-spacing:.3px}
.brand .cube{width:22px;height:22px;background:linear-gradient(#35dd64,#1aa346);border-radius:4px;box-shadow:0 2px 0 #0b3d1d inset, 0 0 0 2px #0e361b}
.nav-links{display:flex;gap:8px;align-items:center;margin:0;padding:0;list-style:none}
.nav-links a{
  display:inline-flex;align-items:center;justify-content:center;
  height:38px;padding:0 12px;border-radius:10px;border:1px solid transparent;
}
.nav-links a:hover{background:rgba(255,255,255,.04)}
.nav-links a.active{background:rgba(48,209,88,.12);border-color:rgba(48,209,88,.25);text-decoration:none;filter:drop-shadow(0 6px 16px rgba(48,209,88,.25))}
.nav-toggle{display:none;position:relative;width:44px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.02)}
.nav-toggle span, .nav-toggle span::before, .nav-toggle span::after{
  position:absolute;left:50%;width:20px;height:2px;background:#eaf3ed;border-radius:2px;content:"";transform:translateX(-50%);
}
.nav-toggle span{top:50%;transform:translate(-50%,-50%)}
.nav-toggle span::before{top:-7px}
.nav-toggle span::after{top:7px}

.hud-stats{
  display:flex;align-items:center;gap:10px;
  padding:8px clamp(8px,2vw,12px);
  background:linear-gradient(180deg, rgba(18,23,19,.85), rgba(18,23,19,.5));
  border-bottom-left-radius:14px;border-bottom-right-radius:14px;
  border:1px solid rgba(255,255,255,.06);border-top:none;
}
.hud__bars{display:flex;gap:8px}
.hud-bar{--v:50;width:120px;height:10px;border-radius:12px;background:#0b0f0c;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.hud-bar::after{content:"";position:absolute;inset:0;transform-origin:left center;transform:scaleX(calc(var(--v)/100));background:linear-gradient(90deg, rgba(255,255,255,.12), rgba(255,255,255,.02))}
.hud-bar.hp::before{content:"";position:absolute;inset:0;transform:scaleX(calc(var(--v)/100));transform-origin:left;background:linear-gradient(90deg,#ef4444,#f59e0b)}
.hud-bar.xp::before{content:"";position:absolute;inset:0;transform:scaleX(calc(var(--v)/100));transform-origin:left;background:linear-gradient(90deg,#22c55e,#06b6d4)}
.hud__inv{display:flex;gap:8px}
.slot{width:36px;height:36px;background:linear-gradient(#151c17,#121713);border:1px solid rgba(255,255,255,.06);border-radius:8px;display:grid;place-items:center;box-shadow:inset 0 2px 0 rgba(255,255,255,.05)}
.slot:hover{box-shadow:inset 0 2px 0 rgba(255,255,255,.15);transform:translateY(-1px)}
.i{width:20px;height:20px;display:inline-block;background-position:center;background-size:contain;background-repeat:no-repeat;image-rendering:pixelated}
.i-emerald{background-image:linear-gradient(#35dd64,#1aa346)}
.i-feather{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}
.i-scroll{background-image:linear-gradient(180deg,#f5f5dc,#d1c49f)}
.i-left,.i-right,.i-pause,.i-close{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}

/* ---------- Hero/Secciones ---------- */
.hero{position:relative;padding:clamp(34px,8vh,88px) 0 10px}
.hero__inner{width:min(1200px,92%);margin:0 auto}
.hero__text h1{font-family:"Press Start 2P", monospace;font-size:clamp(18px,2.6vw,28px);line-height:1.4;margin:0 0 10px;color:#dff6e5}
.hero__text h1 span{color:var(--primary)}
.lead{color:var(--muted);max-width:72ch;margin:0}

.section{padding:clamp(30px,6vw,64px) 0}
.container{width:min(1200px,92%);margin:0 auto}

/* ---------- Controles y filtros ---------- */
.controls .toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.filters{display:grid;gap:10px}
.chip-group{display:flex;flex-wrap:wrap;gap:8px}
.chip{
  display:inline-flex;align-items:center;height:34px;padding:0 12px;border-radius:999px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#121713);color:var(--text);cursor:pointer;transition:filter var(--speed) var(--bezier), transform var(--speed) var(--bezier)
}
.chip:hover{transform:translateY(-1px)}
.chip.is-on{box-shadow:0 0 0 1px rgba(48,209,88,.35) inset, 0 6px 18px rgba(48,209,88,.18)}
.search{display:flex;gap:8px;align-items:center}
.search input{
  height:40px;min-width:260px;padding:0 12px;border-radius:12px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#101613);color:var(--text);
}
.btn{
  --bg: linear-gradient(180deg,#2fd057,#189a45);
  display:inline-flex;align-items:center;justify-content:center;
  gap:8px;height:40px;padding:0 14px;border-radius:12px;border:1px solid rgba(255,255,255,.06);
  background:var(--bg);color:#061009;text-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:var(--shadow);
  cursor:pointer;transition:transform var(--speed) var(--bezier), filter var(--speed) var(--bezier);
}
.btn:active{transform:translateY(1px)}
.btn--ghost{background:linear-gradient(180deg,#141a16,#101613);color:var(--text)}

/* ---------- Estado ---------- */
.status{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:10px}
.legend{display:flex;align-items:center;gap:10px;color:var(--muted)}
.dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.dot.gold{background:linear-gradient(180deg,var(--gold1),var(--gold2))}
.dot.mystery{background:linear-gradient(180deg,var(--myst1),var(--myst2))}

/* ---------- Grid Contactos ---------- */
.grid.contacts-grid{
  display:grid;grid-template-columns:repeat(12, minmax(0,1fr));gap:14px
}
.contact{
  grid-column:span 4;background:linear-gradient(180deg,#151c17,#111612);border:1px solid rgba(255,255,255,.06);
  border-radius:16px;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column;transition:transform var(--speed) var(--bezier), border-color var(--speed) var(--bezier)
}
.contact:hover{transform:translateY(-2px);border-color:rgba(48,209,88,.25)}
.contact.gold{box-shadow:0 0 0 1px rgba(255,196,61,.28) inset, 0 10px 24px rgba(255,196,61,.08)}
.contact .media{height:160px;background:#0a0f0c;position:relative}
.contact .media img{width:100%;height:100%;object-fit:cover}
.contact .media.mystery{background:linear-gradient(180deg,#4b5563,#111827);display:grid;place-items:center;color:#d1d5db;font-weight:800;font-size:32px}
.contact .body{padding:12px}
.contact .title{margin:0 0 4px}
.contact .desc{color:#cfe3d3;margin:0 0 8px}
.contact .meta{display:flex;flex-wrap:wrap;gap:10px;color:var(--muted);font-size:12px}
.contact .foot{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-top:1px solid rgba(255,255,255,.06)}
.badge{display:inline-flex;align-items:center;height:22px;padding:0 8px;border-radius:999px;background:#132016;border:1px solid rgba(48,209,88,.25);color:#a5e9ba;font-size:11px}
.btn-sm{height:32px;padding:0 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,#151c17,#101613);color:var(--text)}

/* ---------- Modal de Chat ---------- */
.chat-modal{position:fixed;inset:0;display:grid;place-items:center;z-index:70;opacity:0;pointer-events:none;transition:opacity .25s var(--bezier)}
.chat-modal.show{opacity:1;pointer-events:auto}
.chat__overlay{position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(2px)}
.chat__panel{
  position:relative;z-index:1;width:min(980px,94%);max-height:86vh;overflow:hidden;border-radius:16px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#111612);box-shadow:var(--shadow);display:grid;grid-template-rows:auto 1fr auto
}
.chat__head{display:flex;align-items:center;justify-content:space-between;padding:12px;border-bottom:1px solid rgba(255,255,255,.06)}
.chat__contact{display:flex;align-items:center;gap:12px}
.avatar{width:42px;height:42px;border-radius:12px;background:#0c120f;overflow:hidden;box-shadow:inset 0 2px 0 rgba(255,255,255,.05)}
.avatar img{width:100%;height:100%;object-fit:cover}
.chat__history{padding:14px;overflow:auto;scroll-behavior:smooth}
.msg{max-width:70%;padding:10px 12px;border-radius:14px;margin:6px 0;line-height:1.45;border:1px solid rgba(255,255,255,.06);background:#0f1411;box-shadow:inset 0 1px 0 rgba(255,255,255,.04)}
.msg.user{margin-left:auto;background:linear-gradient(180deg,#172a1f,#122019)}
.msg.npc{margin-right:auto}
.msg.gold{border-color:rgba(255,196,61,.25);box-shadow:0 0 0 1px rgba(255,196,61,.25) inset}
.msg.mystery{background:linear-gradient(180deg,#1b1f25,#0f1216);border-color:#2a3240}
.msg .time{display:block;color:var(--muted);font-size:11px;margin-top:4px}
.msg.typing{display:inline-flex;gap:6px}
.typing-dot{width:6px;height:6px;border-radius:999px;background:#93e7a8;opacity:.3;animation:blink 1.2s infinite}
.typing-dot:nth-child(2){animation-delay:.15s}
.typing-dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,100%{opacity:.3}50%{opacity:1}}

.chat__composer{padding:10px;border-top:1px solid rgba(255,255,255,.06);display:grid;gap:10px}
.chat__options{display:flex;flex-wrap:wrap;gap:8px}
.opt{height:32px;padding:0 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,#151c17,#101613);color:var(--text);cursor:pointer}
.chat__form{display:grid;grid-template-columns:1fr auto;gap:8px}
.chat__form input{
  height:40px;padding:0 12px;border-radius:12px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#101613);color:var(--text);
}
.chat__hint{font-size:12px}

/* ---------- Reveal ---------- */
.reveal{opacity:0;transform:translateY(10px);transition:opacity .6s var(--bezier), transform .6s var(--bezier)}
.reveal.is-in{opacity:1;transform:none}

/* ---------- Toast ---------- */
.toast{
  position:fixed;bottom:16px;left:50%;transform:translateX(-50%);
  background:#121713;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px 14px;box-shadow:var(--shadow);
  opacity:0;pointer-events:none;transition:opacity .3s var(--bezier);z-index:80
}
.toast.show{opacity:1;pointer-events:auto}

/* ---------- Responsive ---------- */
@media (max-width:1100px){
  .contact{grid-column:span 6}
}
@media (max-width:760px){
  .nav-toggle{display:inline-grid;place-items:center}
  .nav-links{
    position:absolute;top:var(--nav-h);right:12px;left:12px;
    display:grid;gap:8px;padding:8px;border-radius:12px;background:#0d1210;border:1px solid rgba(255,255,255,.06);
    transform-origin:top center;transform:scaleY(0);opacity:0;pointer-events:none;transition:transform .25s var(--bezier), opacity .25s var(--bezier)
  }
  .nav-links.open{transform:scaleY(1);opacity:1;pointer-events:auto}
  .grid.contacts-grid{grid-template-columns:repeat(2, 1fr)}
}/* =========================================================
   Moonveil Portal — Contactos (CSS)
   - Variables, base y HUD
   - Layout WhatsApp (lista + chat)
   - Contactos (badges, estados, dorados, misteriosos)
   - Chat (burbujas, typing, quick replies)
   - Modal + Toast
   - Animaciones + Responsive
   ========================================================= */

/* ---------- Variables ---------- */
:root{
  --bg:#0c0f0d; --bg-2:#111612;
  --card:#121713; --elev-1:#171d18; --elev-2:#1c231d; --elev-3:#222a22;

  --text:#e8f3ea; --muted:#a9b8ae; --link:#87f39d;

  --primary:#30d158; --primary-2:#16a34a;
  --accent:#ffc43d; --danger:#ef4444; --info:#60a5fa;

  --gold1:#FFE08A; --gold2:#FFC43D;
  --myst1:#9ca3af; --myst2:#4b5563;

  --radius:18px; --radius-sm:12px; --radius-xs:10px;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --ring:0 0 0 3px rgba(48,209,88,.35);
  --speed:240ms; --bezier:cubic-bezier(.22,.61,.36,1);
  --nav-h:66px;

  --green:#1db954; --green-2:#15803d; --yellow:#facc15;
  --chat-in:#0f1411; --chat-out:#14321f;
}

/* ---------- Reset ---------- */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;background:radial-gradient(1200px 800px at 70% -10%, #0d1511 0%, #0c0f0d 40%, #0a0d0a 100%);
  color:var(--text);font-family:"Outfit", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
  line-height:1.55;overflow-x:hidden;
}
img,svg,video,canvas{display:block;max-width:100%}
button,input,select,textarea{font:inherit;color:inherit}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:none;box-shadow:var(--ring)}
[hidden]{display:none !important}
.muted{color:var(--muted)}

/* ---------- Fondo ---------- */
.bg{position:fixed;inset:0;z-index:-2;pointer-events:none}
#bgParticles{position:absolute;inset:0;opacity:.28}
.bg-parallax{position:absolute;inset:0;overflow:hidden}
.layer{position:absolute;inset:0;background-repeat:repeat-x;background-position:bottom center;image-rendering:pixelated;opacity:.45;will-change:transform}
.layer.sky{background-image:linear-gradient(#0b1411,#09110e)}
.layer.far{background-image:radial-gradient(200px 80px at 70% 100%,#112218 0,#0d1813 70%,transparent 80%)}
.layer.mid{background-image:radial-gradient(200px 80px at 20% 100%,#14291d 0,#0e1b14 70%,transparent 80%)}
.layer.near{background-image:radial-gradient(200px 80px at 50% 100%,#183422 0,#102316 70%,transparent 80%)}

/* ---------- Navbar + HUD ---------- */
.top-hud{position:sticky;top:0;z-index:30;backdrop-filter:saturate(1.3) blur(6px)}
.navbar{
  height:var(--nav-h);display:flex;align-items:center;justify-content:space-between;
  padding:0 clamp(12px,3vw,24px);
  background:linear-gradient(180deg, rgba(12,15,13,.7), rgba(12,15,13,.35) 70%, transparent);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{display:flex;align-items:center;gap:12px;font-weight:700;color:var(--text)}
.brand__title{letter-spacing:.3px}
.brand .cube{width:22px;height:22px;background:linear-gradient(#35dd64,#1aa346);border-radius:4px;box-shadow:0 2px 0 #0b3d1d inset, 0 0 0 2px #0e361b}
.nav-links{display:flex;gap:8px;align-items:center;margin:0;padding:0;list-style:none}
.nav-links a{
  display:inline-flex;align-items:center;justify-content:center;
  height:38px;padding:0 12px;border-radius:10px;border:1px solid transparent;
}
.nav-links a:hover{background:rgba(255,255,255,.04)}
.nav-links a.active{background:rgba(48,209,88,.12);border-color:rgba(48,209,88,.25);text-decoration:none;filter:drop-shadow(0 6px 16px rgba(48,209,88,.25))}
.nav-toggle{display:none;position:relative;width:44px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.02)}
.nav-toggle span, .nav-toggle span::before, .nav-toggle span::after{
  position:absolute;left:50%;width:20px;height:2px;background:#eaf3ed;border-radius:2px;content:"";transform:translateX(-50%);
}
.nav-toggle span{top:50%;transform:translate(-50%,-50%)}
.nav-toggle span::before{top:-7px}
.nav-toggle span::after{top:7px}

.hud-stats{
  display:flex;align-items:center;gap:10px;
  padding:8px clamp(8px,2vw,12px);
  background:linear-gradient(180deg, rgba(18,23,19,.85), rgba(18,23,19,.5));
  border-bottom-left-radius:14px;border-bottom-right-radius:14px;
  border:1px solid rgba(255,255,255,.06);border-top:none;
}
.hud__bars{display:flex;gap:8px}
.hud-bar{--v:50;width:120px;height:10px;border-radius:12px;background:#0b0f0c;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.hud-bar::after{content:"";position:absolute;inset:0;transform-origin:left center;transform:scaleX(calc(var(--v)/100));background:linear-gradient(90deg, rgba(255,255,255,.12), rgba(255,255,255,.02))}
.hud-bar.hp::before{content:"";position:absolute;inset:0;transform:scaleX(calc(var(--v)/100));transform-origin:left;background:linear-gradient(90deg,#ef4444,#f59e0b)}
.hud-bar.xp::before{content:"";position:absolute;inset:0;transform:scaleX(calc(var(--v)/100));transform-origin:left;background:linear-gradient(90deg,#22c55e,#06b6d4)}
.hud__inv{display:flex;gap:8px}
.slot{width:36px;height:36px;background:linear-gradient(#151c17,#121713);border:1px solid rgba(255,255,255,.06);border-radius:8px;display:grid;place-items:center;box-shadow:inset 0 2px 0 rgba(255,255,255,.05)}
.slot:hover{box-shadow:inset 0 2px 0 rgba(255,255,255,.15);transform:translateY(-1px)}
.i{width:20px;height:20px;display:inline-block;background-position:center;background-size:contain;background-repeat:no-repeat;image-rendering:pixelated}
.i-emerald{background-image:linear-gradient(#35dd64,#1aa346)}
.i-map{background-image:radial-gradient(circle at 40% 40%,#b89b6d,#7c5f37)}
.i-feather{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}
.i-left{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}
.i-right{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}
.i-pause{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}
.i-close{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}

.icon-btn{
  width:36px;height:36px;display:grid;place-items:center;border-radius:10px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#101613);cursor:pointer
}
.icon{width:18px;height:18px;display:inline-block;background-position:center;background-size:contain;background-repeat:no-repeat;image-rendering:pixelated}
.i-plus,.i-gear,.i-info,.i-pin,.i-bell,.i-emoji,.i-clip,.i-send{background-image:linear-gradient(180deg,#e5e7eb,#9ca3af)}

/* ---------- Layout Messenger ---------- */
.messenger{
  width:min(1300px,96%);
  margin:14px auto 24px;
  display:grid;grid-template-columns:360px 1fr;gap:14px;
  min-height:calc(100vh - var(--nav-h) - 40px);
}
.panel{
  border-radius:16px;border:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg,#151c17,#111612);
  overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow);
}
.panel--left{min-height:500px}
.panel--right{position:relative}

/* ---------- Panel Left ---------- */
.panel__head{
  display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px;border-bottom:1px solid rgba(255,255,255,.06)
}
.me{display:flex;align-items:center;gap:10px}
.avatar{width:38px;height:38px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,.06);background:#0d1310;flex:0 0 auto}
.avatar img{width:100%;height:100%;object-fit:cover}
.me__info small{display:block}
.actions{display:flex;gap:8px}
.search-wrap{padding:10px;border-bottom:1px solid rgba(255,255,255,.06)}
.search-wrap input{width:100%;height:38px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,#151c17,#101613);padding:0 10px}

.contacts{list-style:none;margin:0;padding:6px;display:flex;flex-direction:column;gap:6px;overflow:auto}
.contact{
  display:grid;grid-template-columns:46px 1fr auto;gap:10px;align-items:center;padding:8px;border-radius:12px;border:1px solid transparent;cursor:pointer;
  background:linear-gradient(180deg,#141a16,#101613);
}
.contact:hover{border-color:rgba(255,255,255,.06);transform:translateY(-1px)}
.contact.active{border-color:rgba(48,209,88,.35);box-shadow:0 0 0 1px rgba(48,209,88,.25) inset}
.c-meta{display:flex;flex-direction:column}
.c-meta .name{font-weight:700;display:flex;align-items:center;gap:8px}
.c-meta .desc{color:var(--muted);font-size:12px;margin-top:2px}
.badge{display:inline-flex;align-items:center;height:20px;padding:0 8px;border-radius:999px;background:#132016;border:1px solid rgba(48,209,88,.25);color:#a5e9ba;font-size:11px}
.badge.gold{background:linear-gradient(180deg,var(--gold1),var(--gold2));color:#2b1e05;border-color:rgba(0,0,0,.15)}
.badge.off{background:#2b2f2c;color:#cbd5d1;border-color:#3b3f3c}
.c-extra{display:flex;align-items:center;gap:8px}
.dot{width:10px;height:10px;border-radius:999px;display:inline-block;background:var(--green)}
.dot.off{background:#ef4444}
.unread{min-width:22px;height:22px;border-radius:999px;display:grid;place-items:center;background:#164e29;border:1px solid rgba(48,209,88,.25);color:#a5e9ba;font-size:12px}

/* misterio (avatar con ?) */
.avatar.mystery{display:grid;place-items:center;font-weight:700;color:#d1d5db;background:linear-gradient(180deg,var(--myst1),var(--myst2))}
.contact.gold{box-shadow:0 0 0 1px rgba(255,196,61,.28) inset, 0 10px 24px rgba(255,196,61,.08)}

/* ---------- Panel Right (Chat) ---------- */
.chat__head{
  display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px;border-bottom:1px solid rgba(255,255,255,.06)
}
.chat__peer{display:flex;align-items:center;gap:10px}
.peer__avatar{width:38px;height:38px;border-radius:50%;background:#0d1310;border:2px solid rgba(255,255,255,.06);overflow:hidden}
.peer__avatar img{width:100%;height:100%;object-fit:cover}

/* Thread */
.chat__thread{
  position:relative;flex:1;overflow:auto;background:
    linear-gradient(180deg, rgba(20,26,22,.3), rgba(20,26,22,.1)),
    radial-gradient(700px 420px at 70% -100px, #0d1612 0, transparent 60%),
    linear-gradient(180deg,#101512,#0e140f);
  padding:12px;
  display:flex;flex-direction:column;gap:8px;
}
.empty-hint{margin:auto;text-align:center;max-width:520px}
.empty-hint h3{margin:8px 0 6px}
.typing{
  align-self:flex-start;max-width:70%;background:var(--chat-in);border:1px solid rgba(255,255,255,.06);border-radius:16px 16px 16px 4px;padding:8px 10px;display:inline-flex;align-items:center;gap:8px;
}
.typing .dots{display:inline-grid;grid-auto-flow:column;gap:4px}
.typing .dot{width:8px;height:8px;border-radius:50%;background:#cbead3;opacity:.5;animation:blink 1s linear infinite}
.typing .dot:nth-child(2){animation-delay:.15s}
.typing .dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,60%,100%{opacity:.2}30%{opacity:1}}

/* Mensajes */
.msg{max-width:70%;display:flex;gap:8px}
.msg .bubble{
  padding:8px 10px;border-radius:16px;border:1px solid rgba(255,255,255,.06);background:var(--chat-in);
  box-shadow:0 6px 18px rgba(0,0,0,.18);animation:slideIn var(--speed) var(--bezier)
}
.msg .meta{font-size:11px;color:#a9b8ae;margin-top:4px}
.msg.peer{align-self:flex-start}
.msg.me{align-self:flex-end;flex-direction:row-reverse}
.msg.peer .bubble{border-bottom-left-radius:4px}
.msg.me .bubble{border-bottom-right-radius:4px;background:var(--chat-out);border-color:rgba(48,209,88,.25)}
.msg .avatar{width:26px;height:26px;border-radius:50%;background:#0d1310;overflow:hidden;border:1px solid rgba(255,255,255,.06)}

/* Quick replies */
.chat__quick{
  display:flex;flex-wrap:wrap;gap:8px;padding:8px 12px;border-top:1px solid rgba(255,255,255,.06);background:linear-gradient(180deg,#141a16,#101613)
}
.qr{
  height:30px;padding:0 10px;border-radius:999px;border:1px solid rgba(48,209,88,.25);
  background:#132016;color:#a5e9ba;cursor:pointer
}

/* Composer */
.chat__composer{
  display:grid;grid-template-columns:auto auto 1fr auto;gap:8px;align-items:center;padding:10px;border-top:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg,#141a16,#101613)
}
.chat__composer input{
  height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,#151c17,#101613);padding:0 12px
}
.btn{
  --bg: linear-gradient(180deg,#2fd057,#189a45);
  display:inline-flex;align-items:center;justify-content:center;
  gap:8px;height:40px;padding:0 14px;border-radius:12px;border:1px solid rgba(255,255,255,.06);
  background:var(--bg);color:#061009;text-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:var(--shadow);
  cursor:pointer;transition:transform var(--speed) var(--bezier), filter var(--speed) var(--bezier);
}
.btn:active{transform:translateY(1px)}
.btn--primary{}

/* ---------- Modal ---------- */
.modal{position:fixed;inset:0;display:grid;place-items:center;z-index:70;opacity:0;pointer-events:none;transition:opacity .25s var(--bezier)}
.modal.show{opacity:1;pointer-events:auto}
.modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(2px)}
.modal__dialog{
  position:relative;z-index:1;width:min(800px,94%);max-height:84vh;overflow:auto;border-radius:16px;border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#151c17,#111612);box-shadow:var(--shadow)
}
.modal__head{display:flex;align-items:center;justify-content:space-between;padding:12px;border-bottom:1px solid rgba(255,255,255,.06)}
.modal__body{padding:12px}
.modal__foot{display:flex;justify-content:flex-end;gap:8px;padding:10px 12px;border-top:1px solid rgba(255,255,255,.06)}
.modal-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
.modal-block{grid-column:span 6;padding:10px;border:1px solid rgba(255,255,255,.06);border-radius:12px;background:#0f1411}
.modal-block.full{grid-column:1/-1}

/* ---------- Toast ---------- */
.toast{
  position:fixed;bottom:16px;left:50%;transform:translateX(-50%);
  background:#121713;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px 14px;box-shadow:var(--shadow);
  opacity:0;pointer-events:none;transition:opacity .3s var(--bezier);z-index:80
}
.toast.show{opacity:1;pointer-events:auto}

/* ---------- Animaciones ---------- */
@keyframes slideIn{
  from{transform:translateY(6px);opacity:0}
  to{transform:none;opacity:1}
}

/* ---------- Responsive ---------- */
@media (max-width:1024px){
  .messenger{grid-template-columns:320px 1fr}
}
@media (max-width:820px){
  .nav-toggle{display:inline-grid;place-items:center}
  .nav-links{
    position:absolute;top:var(--nav-h);right:12px;left:12px;
    display:grid;gap:8px;padding:8px;border-radius:12px;background:#0d1210;border:1px solid rgba(255,255,255,.06);
    transform-origin:top center;transform:scaleY(0);opacity:0;pointer-events:none;transition:transform .25s var(--bezier), opacity .25s var(--bezier)
  }
  .nav-links.open{transform:scaleY(1);opacity:1;pointer-events:auto}
  .messenger{grid-template-columns:1fr;gap:10px}
  .panel--left{height:44vh;min-height:320px}
  .panel--right{height:50vh;min-height:380px}
}

/* ---------- Utilidades ---------- */
.hidden{display:none !important}
.sr-only{position:absolute !important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

@media (max-width:520px){
  .grid.contacts-grid{grid-template-columns:1fr}
}

/* ---------- Utilidades ---------- */
.hidden{display:none !important}
.muted{color:var(--muted)}
.center{display:grid;place-items:center}






/* === PANEL DE EMOJIS PROFESIONAL === */
.emoji-panel {
  position: absolute;
  bottom: 70px;
  right: 80px;
  width: 280px;
  background: #1e1e1e;
  border: 1px solid #333;
  border-radius: 12px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 2000;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.emoji-header {
  display: flex;
  justify-content: space-around;
  background: #2b2b2b;
  padding: 6px;
  border-bottom: 1px solid #444;
}

.emoji-header button {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  transition: transform 0.15s, background 0.2s;
  border-radius: 6px;
  padding: 4px;
}

.emoji-header button:hover,
.emoji-header button.active {
  background: #383838;
  transform: scale(1.15);
}

.emoji-content {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
  gap: 6px;
  padding: 10px;
  max-height: 180px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #555 #1e1e1e;
}

.emoji-content::-webkit-scrollbar {
  width: 6px;
}

.emoji-content::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 4px;
}

.emoji-content span {
  font-size: 22px;
  cursor: pointer;
  transition: transform 0.1s;
}

.emoji-content span:hover {
  transform: scale(1.25);
}

.hidden {
  display: none !important;
}
































.chat-image {
  max-width: 200px;
  border-radius: 8px;
  display: block;
}
.chat-file {
  background: #eef;
  padding: 6px 10px;
  border-radius: 6px;
  text-decoration: none;
  color: #333;
}
.chat-audio {
  width: 180px;
}

















/* -------------------------------
   Botones pixelados PRO (verde tecnológico)
-------------------------------- */
.pixel-button {
  display: inline-block;
  padding: 12px 22px;
  font-size: 12px;
  text-transform: uppercase;
  font-family: 'Press Start 2P', cursive;
  color: #fff;
  background: linear-gradient(145deg, #00c853, #009624);
  border: 4px solid #0a0a0a;
  cursor: pointer;
  margin-top: 20px;
  position: relative;
  overflow: hidden;
  box-shadow:
    inset -4px -4px 0px #007d33,
    inset 4px 4px 0px #5efc82,
    0 0 10px rgba(0, 255, 128, 0.3),
    4px 4px 0px #000;
  transition: all 0.15s ease;
}

/* Efecto de brillo animado recorriendo el borde */
.pixel-button::before {
  content: "";
  position: absolute;
  top: -2px; left: -2px;
  right: -2px; bottom: -2px;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 2px;
  animation: glowMove 2.5s linear infinite;
  pointer-events: none;
}

@keyframes glowMove {
  0% { filter: drop-shadow(0 0 4px #00ff80); opacity: 0.6; }
  50% { filter: drop-shadow(0 0 8px #a7ffeb); opacity: 1; }
  100% { filter: drop-shadow(0 0 4px #00ff80); opacity: 0.6; }
}

.pixel-button:hover {
  background: linear-gradient(145deg, #00e676, #5efc82);
  color: #0a0a0a;
  transform: translateY(-2px) scale(1.03);
  box-shadow:
    inset -4px -4px 0px #007d33,
    inset 4px 4px 0px #a7ffeb,
    0 0 15px rgba(95, 252, 130, 0.6),
    6px 6px 0px #000;
}

.pixel-button:active {
  transform: translateY(1px) scale(0.98);
  box-shadow:
    inset 4px 4px 0px #007d33,
    inset -4px -4px 0px #00e676,
    0 0 5px rgba(95, 252, 130, 0.5),
    2px 2px 0px #000;
}

/* Pequeñas partículas pixel al hover */
.pixel-button::after {
  content: "";
  position: absolute;
  width: 6px; height: 6px;
  background: #a7ffeb;
  box-shadow:
    12px 8px #5efc82,
    -10px -6px #00e676,
    16px -10px #b9ffcb;
  opacity: 0;
  filter: blur(0.5px);
  transition: all 0.3s ease;
}

.pixel-button:hover::after {
  opacity: 0.8;
  animation: floatPixels 1.5s ease-in-out infinite alternate;
}

@keyframes floatPixels {
  from { transform: translateY(0); }
  to { transform: translateY(-5px); }
}

/* --------------------------------
   Botón flotante de música (versión PRO)
-------------------------------- */
.floating-music {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 999;
  background: linear-gradient(145deg, #00e676, #00c853);
  color: #0a0a0a;
  font-size: 10px;
  padding: 12px 16px;
  border: 4px solid #0a0a0a;
  outline: 2px solid #fff;
  box-shadow:
    inset -3px -3px 0px #007d33,
    inset 3px 3px 0px #a7ffeb,
    0 0 10px rgba(0,255,128,0.4),
    3px 3px 0px #000;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 6px;
}

.floating-music:hover {
  transform: scale(1.1);
  background: linear-gradient(145deg, #5efc82, #00e676);
  box-shadow:
    inset -3px -3px 0px #009624,
    inset 3px 3px 0px #b9ffcb,
    0 0 15px rgba(95,252,130,0.6),
    5px 5px 0px #000;
}

.floating-music.active {
  background: linear-gradient(145deg, #00c853, #007d33);
  color: #fff;
  box-shadow:
    inset -3px -3px 0px #004d1a,
    inset 3px 3px 0px #5efc82,
    0 0 15px rgba(0,255,128,0.7),
    4px 4px 0px #000;
}
