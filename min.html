<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <title>Moonveil â€” Merchants</title>

  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&family=Cinzel:wght@400;600;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />

  <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect width='100%25' height='100%25' fill='%23030d06'/%3E%3Ctext x='32' y='44' font-size='36' text-anchor='middle'%3EğŸª™%3C/text%3E%3C/svg%3E">

  <link rel="stylesheet" href="min.css" />
</head>
<body>

  <!-- Fondo -->
  <div class="bg">
    <canvas id="bgParticles" aria-hidden="true"></canvas>
    <div class="bg-grid" aria-hidden="true"></div>
  </div>

  <!-- HUD / Navbar (IDÃ‰NTICO al original) -->
  <header class="top-hud" role="banner">
    <nav class="navbar" aria-label="NavegaciÃ³n principal">
      <a class="brand" href="inicio.html" aria-label="Ir a inicio">
        <span class="cube" aria-hidden="true"></span>
        <span class="brand__title">Moonveil <b>Portal</b></span>
      </a>
      <button class="nav-toggle" id="navToggle" aria-label="Abrir menÃº"><span></span></button>
      <ul class="nav-links" id="navLinks">
        <li><a href="inicio.html">Inicio</a></li>
        <li><a href="min.html" class="active">Merchants</a></li>
        <li><a href="index.html">Salir</a></li>
      </ul>
    </nav>

    <div class="hud-stats" aria-label="Indicadores del juego">
      <div class="hud-info">
        <div class="hud-chip gold-chip">
          <span class="chip-icon">ğŸª™</span>
          <span id="hud-gold">200</span>
        </div>
        <div class="hud-chip day-chip">
          <span class="chip-icon">ğŸ“…</span>
          DÃ­a <span id="hud-day">1</span>/20
        </div>
        <div class="hud-chip inv-chip">
          <span class="chip-icon">ğŸ’</span>
          <span id="hud-inv">0</span>/20
        </div>
      </div>
    </div>
  </header>

  <!-- Pantalla: TÃ­tulo / Game Over / Victoria -->
  <div id="screen-title" class="screen screen-title active">
    <div class="title-content">
      <div class="title-badge">MINIJUEGO</div>
      <h1 class="game-title">
        <span>MOONVEIL</span>
        <span class="gold-text">MERCHANTS</span>
      </h1>
      <p class="game-tagline">Compra barato. Vende caro. Sobrevive el mercado.</p>
      <div class="game-rules">
        <div class="rule-card"><span class="rule-icon">ğŸ—“ï¸</span><span>20 dÃ­as para hacerte rico</span></div>
        <div class="rule-card"><span class="rule-icon">ğŸª</span><span>5 mercados Ãºnicos</span></div>
        <div class="rule-card"><span class="rule-icon">âš¡</span><span>Eventos aleatorios</span></div>
        <div class="rule-card"><span class="rule-icon">ğŸª™</span><span>Meta: 1000 monedas de oro</span></div>
      </div>
      <button class="btn-main" id="btn-start">âš”ï¸ COMENZAR AVENTURA</button>
    </div>
  </div>

  <!-- Pantalla: Mapa del mundo -->
  <div id="screen-map" class="screen screen-map">
    <div class="map-header">
      <h2 class="map-title">ğŸ—ºï¸ MAPA DEL MUNDO</h2>
      <p class="map-hint">Selecciona un mercado para viajar (cuesta 1 dÃ­a)</p>
    </div>
    <div class="world-map" id="world-map">
      <!-- Nodos generados por JS -->
      <svg class="map-connections" id="map-svg" aria-hidden="true"></svg>
    </div>
    <div class="map-legend">
      <div class="legend-item"><span class="dot dot-current"></span>Tu ubicaciÃ³n</div>
      <div class="legend-item"><span class="dot dot-available"></span>Disponible</div>
    </div>
  </div>

  <!-- Pantalla: Mercado -->
  <div id="screen-market" class="screen screen-market">
    <div class="market-layout">
      <!-- Panel izquierdo: Mercado -->
      <div class="market-panel">
        <div class="market-header">
          <button class="btn-back" id="btn-back-map">â† Mapa</button>
          <div class="market-title-block">
            <div class="market-icon-big" id="market-icon-big"></div>
            <div>
              <h2 class="market-name" id="market-name"></h2>
              <p class="market-flavor" id="market-flavor"></p>
            </div>
          </div>
        </div>

        <div class="goods-header">
          <span>MercancÃ­a</span>
          <span>Precio</span>
          <span>Tendencia</span>
          <span>AcciÃ³n</span>
        </div>
        <div class="goods-list" id="goods-list">
          <!-- Generado por JS -->
        </div>
      </div>

      <!-- Panel derecho: Inventario -->
      <div class="inventory-panel">
        <div class="inv-header">
          <h3>ğŸ’ Inventario</h3>
          <div class="inv-capacity">
            <div class="inv-bar">
              <div class="inv-fill" id="inv-fill"></div>
            </div>
            <span id="inv-text">0/20</span>
          </div>
        </div>
        <div class="inv-list" id="inv-list">
          <p class="inv-empty">Tu inventario estÃ¡ vacÃ­o</p>
        </div>

        <div class="market-actions">
          <button class="btn-travel" id="btn-open-map">ğŸ—ºï¸ Viajar a otro mercado</button>
        </div>

        <div class="profit-tracker">
          <h4>ğŸ“Š SesiÃ³n actual</h4>
          <div class="profit-row">
            <span>Comprado:</span>
            <span class="danger-text" id="stat-spent">0 ğŸª™</span>
          </div>
          <div class="profit-row">
            <span>Vendido:</span>
            <span class="success-text" id="stat-earned">0 ğŸª™</span>
          </div>
          <div class="profit-row profit-total">
            <span>Ganancia neta:</span>
            <span id="stat-profit">0 ğŸª™</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pantalla: Evento aleatorio -->
  <div id="screen-event" class="screen screen-event">
    <div class="event-card" id="event-card">
      <div class="event-icon" id="event-icon"></div>
      <h2 class="event-title" id="event-title"></h2>
      <p class="event-desc" id="event-desc"></p>
      <div class="event-effect" id="event-effect"></div>
      <button class="btn-main" id="btn-continue-event">Continuar â†’</button>
    </div>
  </div>

  <!-- Pantalla: Game Over / Victoria -->
  <div id="screen-end" class="screen screen-end">
    <div class="end-content">
      <div class="end-icon" id="end-icon"></div>
      <h1 class="end-title" id="end-title"></h1>
      <p class="end-subtitle" id="end-subtitle"></p>
      <div class="end-stats" id="end-stats"></div>
      <div class="end-rank" id="end-rank"></div>
      <button class="btn-main" id="btn-restart">ğŸ”„ Jugar de Nuevo</button>
    </div>
  </div>

  <!-- Compra/Venta Modal -->
  <div id="trade-modal" class="modal-overlay hidden">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-good-icon" id="modal-icon"></div>
        <div>
          <h3 id="modal-title"></h3>
          <p id="modal-price-info"></p>
        </div>
        <button class="close-btn" id="modal-close">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="qty-control">
          <button class="qty-btn" id="qty-minus">âˆ’</button>
          <input type="number" id="qty-input" class="qty-input" value="1" min="1" max="99" />
          <button class="qty-btn" id="qty-plus">ï¼‹</button>
        </div>
        <div class="modal-total">
          Total: <strong id="modal-total">0 ğŸª™</strong>
        </div>
        <div class="modal-warning" id="modal-warning"></div>
        <button class="btn-main" id="modal-confirm"></button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="min.js"></script>
</body>
</html>